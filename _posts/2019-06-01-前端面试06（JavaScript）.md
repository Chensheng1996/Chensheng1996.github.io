---
layout: post
title: 前端面试06（JavaScript）
date: 2019-06-01
tags: 面试
---

### 如何实现异步编程?
`通过回调函数`、`通过事件监听`、`采用发布/订阅方式`、`通过Promise对象实现`

### 什么是闭包？
```javascript
/**
 * 定义在函数中的函数。
 * closure()的执行需要依赖test()中的变量，因此使得垃圾回收机制不会回收test()所占的资源。
 */
function test() {
    let num = 0;
    let closure = function() {
        console.log("num", num);
    }
    num ++;
    return closure;
}
let m = test();
m();
```

### 什么是回调函数？
```javascript
/**
 * 回调函数就是一个通过函数指针调用的函数。
 * 如果把函数的指针（地址）作为参数传递个另一个函数，当这个指针用来调用其所指向的函数时，我们就说这是回调函数。
 */
function test(callback) {
    if(callback) {
        callback();
    }
}
test(function() {
    console.log("我是回调函数");
});
```

### 什么是自执行函数？它有哪些应用场景？有什么好处？
```javascript
/**
 * 1.自执行函数是指声明的一个匿名函数，可以立即调用这个匿名函数。
 * 2.作用是创建一个独立的作用域。一般用于框架、插件等场景。
 * 3.好处是防止变量弥散到全局，避免各种Javascript库冲突；
 *   隔离作用域，避免污染，或者截断其作用域链，避免闭包造成引用变量无法释放；
 *   利用立即执行特性，返回需要的业务函数或对象，避免每次用条件判断来处理。
 */

// 写法一 格式：(函数)(实参)
(function(params) {
    console.log(params);
})("Hello World!")

// 写法二 格式：(函数(实参))
(function(params) {
    console.log(params);
}("Hello China!"))
```

### 哪些关键字用来处理异常？
```javascript
try {
    // 执行代码
} catch(exp) {
    // 抛出错误提示信息
} finally {
    // 无论try/catch的结果如何都会执行
}
```

### 什么是跨域？
- 跨域是指不同域名之间的相互访问。
- 由于JavaScript同源策略的限制，A域名下的JavaScript无法操作B或者C域名下的对象。

### 解释一下JavaScript中的同源策略
- 同源策略是客户端脚本（尤其是JavaScript）的重要安全度量标准。它最早出自Netspace Navigator 2.0，目的是防止某个文档或脚本从多个不同源装载。
- 这里的同源策略指的是协议、域名、端口相同。同源策略是一种安全协议。指一段脚本只能读取来自同一来源的窗口和文档的属性。

### 为什么要有同源限制？
- 我们举例说明。比如一个黑客，他利用iframe把真正的银行登录页面嵌入到他的页面上，当你使用真正的用户名、密码登录时，他的页面就可以通过JavaScript读取到你表单上input中的内容，这样黑客就会轻松得到你的用户名和密码。

### 谈谈Cookie和Session的区别
1. cookie数据存放在客户的浏览器上，session数据存放在服务器上。
2. cookie不是很安全，别人可以分析存放在本地的cookie并进行cookie欺骗，所以考虑到安全问题，应当使用session。
3. session会在一定事件内保存在服务器上，当访问增多时，会影响服务器的性能，因此为了减轻服务器的负担，应当使用cookie。
4. 一个cookie保存的数据不能超过4KB，很多浏览器都会限制一个站点最多保存20个cookie。
5. 对于用户信息来说，应该将与登录相关的重要信息存放在session中，而对于其他信息来说，如果需要保留，可以存放在cookie中。